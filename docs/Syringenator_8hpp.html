<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Syringenator: src/controller/Syringenator.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Syringenator
   </div>
   <div id="projectbrief">Software for the Syringenator robot</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_41ef5d8a90b9cc03a02949a5c062e6f0.html">controller</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Syringenator.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Arduino controller code &ndash;ABD.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="constants_8hpp_source.html">constants.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Syringenator.hpp:</div>
<div class="dyncontent">
<div class="center"><img src="Syringenator_8hpp__incl.png" border="0" usemap="#src_2controller_2Syringenator_8hpp" alt=""/></div>
<map name="src_2controller_2Syringenator_8hpp" id="src_2controller_2Syringenator_8hpp">
<area shape="rect" title="Arduino controller code –ABD." alt="" coords="5,5,204,32"/>
<area shape="rect" href="constants_8hpp.html" title="Constants shared across the whole system." alt="" coords="53,80,157,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="Syringenator_8hpp__dep__incl.png" border="0" usemap="#src_2controller_2Syringenator_8hppdep" alt=""/></div>
<map name="src_2controller_2Syringenator_8hppdep" id="src_2controller_2Syringenator_8hppdep">
<area shape="rect" title="Arduino controller code –ABD." alt="" coords="5,5,204,32"/>
<area shape="rect" href="controller_8ino.html" title="The Arduino sketch." alt="" coords="17,80,192,107"/>
</map>
</div>
</div>
<p><a href="Syringenator_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad664efb71d5032009deade168a23dfc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Syringenator_8hpp.html#ad664efb71d5032009deade168a23dfc0">lineDetector_ISR</a> (void)</td></tr>
<tr class="memdesc:ad664efb71d5032009deade168a23dfc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to respond to a line detector being triggered.  <a href="#ad664efb71d5032009deade168a23dfc0">More...</a><br /></td></tr>
<tr class="separator:ad664efb71d5032009deade168a23dfc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e189084091b3c3bbee94b015c1a3257"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Syringenator_8hpp.html#a9e189084091b3c3bbee94b015c1a3257">obstacleDetector_ISR</a> (void)</td></tr>
<tr class="memdesc:a9e189084091b3c3bbee94b015c1a3257"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to respond to a detected obstacle while under locamotion.  <a href="#a9e189084091b3c3bbee94b015c1a3257">More...</a><br /></td></tr>
<tr class="separator:a9e189084091b3c3bbee94b015c1a3257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa79e39c6ba7fdc4bd4c2f04668f0b1db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Syringenator_8hpp.html#aa79e39c6ba7fdc4bd4c2f04668f0b1db">motorEncoder_ISR</a> (void)</td></tr>
<tr class="memdesc:aa79e39c6ba7fdc4bd4c2f04668f0b1db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motor encoder ISR.  <a href="#aa79e39c6ba7fdc4bd4c2f04668f0b1db">More...</a><br /></td></tr>
<tr class="separator:aa79e39c6ba7fdc4bd4c2f04668f0b1db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a794c6d938a2f3689c46955eddb7bc93f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Syringenator_8hpp.html#a794c6d938a2f3689c46955eddb7bc93f">serialCommunication_ISR</a> (void)</td></tr>
<tr class="memdesc:a794c6d938a2f3689c46955eddb7bc93f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to handle incomming communication from the pi.  <a href="#a794c6d938a2f3689c46955eddb7bc93f">More...</a><br /></td></tr>
<tr class="separator:a794c6d938a2f3689c46955eddb7bc93f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af385a70a6e85c3a48cc34be30ce82cdd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Syringenator_8hpp.html#af385a70a6e85c3a48cc34be30ce82cdd">moveRotate</a> (int ticks)</td></tr>
<tr class="memdesc:af385a70a6e85c3a48cc34be30ce82cdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotate the robot around central axis rotate by running both motors at the same speed in opposite directions.  <a href="#af385a70a6e85c3a48cc34be30ce82cdd">More...</a><br /></td></tr>
<tr class="separator:af385a70a6e85c3a48cc34be30ce82cdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d3945f861fc2372c5acf7dcbe38deb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Syringenator_8hpp.html#a49d3945f861fc2372c5acf7dcbe38deb">moveStraight</a> (int ticks)</td></tr>
<tr class="memdesc:a49d3945f861fc2372c5acf7dcbe38deb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the robot forward or reverse.  <a href="#a49d3945f861fc2372c5acf7dcbe38deb">More...</a><br /></td></tr>
<tr class="separator:a49d3945f861fc2372c5acf7dcbe38deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a329dc12ddbc9d24c02724b380a041b04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Syringenator_8hpp.html#a329dc12ddbc9d24c02724b380a041b04">moveLineFollow</a> (void)</td></tr>
<tr class="memdesc:a329dc12ddbc9d24c02724b380a041b04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Routine to follow the guide-line for some fixed interval.  <a href="#a329dc12ddbc9d24c02724b380a041b04">More...</a><br /></td></tr>
<tr class="separator:a329dc12ddbc9d24c02724b380a041b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ec347be5f02ccfe7e4c03fbce6a4d9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Syringenator_8hpp.html#a9ec347be5f02ccfe7e4c03fbce6a4d9d">armPark</a> (void)</td></tr>
<tr class="memdesc:a9ec347be5f02ccfe7e4c03fbce6a4d9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the arm to its parking position.  <a href="#a9ec347be5f02ccfe7e4c03fbce6a4d9d">More...</a><br /></td></tr>
<tr class="separator:a9ec347be5f02ccfe7e4c03fbce6a4d9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4378f1f92482e766c7e5d0c41dc97ae6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Syringenator_8hpp.html#a4378f1f92482e766c7e5d0c41dc97ae6">armDispose</a> (void)</td></tr>
<tr class="memdesc:a4378f1f92482e766c7e5d0c41dc97ae6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Routine to dispose of a syringe once it has been picked.  <a href="#a4378f1f92482e766c7e5d0c41dc97ae6">More...</a><br /></td></tr>
<tr class="separator:a4378f1f92482e766c7e5d0c41dc97ae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bce05d8cc8087b6256ac2d1ed0b83b0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Syringenator_8hpp.html#a7bce05d8cc8087b6256ac2d1ed0b83b0">armPick</a> (byte azimuth, byte range, byte orientation)</td></tr>
<tr class="memdesc:a7bce05d8cc8087b6256ac2d1ed0b83b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Routine to attempt target pickup.  <a href="#a7bce05d8cc8087b6256ac2d1ed0b83b0">More...</a><br /></td></tr>
<tr class="separator:a7bce05d8cc8087b6256ac2d1ed0b83b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Arduino controller code &ndash;ABD. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright &copy; 2019 by the authors. All rights reserved. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a4378f1f92482e766c7e5d0c41dc97ae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4378f1f92482e766c7e5d0c41dc97ae6">&#9670;&nbsp;</a></span>armDispose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void armDispose </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Routine to dispose of a syringe once it has been picked. </p>

</div>
</div>
<a id="a9ec347be5f02ccfe7e4c03fbce6a4d9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ec347be5f02ccfe7e4c03fbce6a4d9d">&#9670;&nbsp;</a></span>armPark()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void armPark </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move the arm to its parking position. </p>
<p>The parking position needs to leave a clear view of the pickup area, but also should move the center of gravity as far forward as possible to reduce drive wheel slippage. </p>

</div>
</div>
<a id="a7bce05d8cc8087b6256ac2d1ed0b83b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bce05d8cc8087b6256ac2d1ed0b83b0">&#9670;&nbsp;</a></span>armPick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool armPick </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>azimuth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>orientation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Routine to attempt target pickup. </p>
<p>This routine should attempt to close the claw completely and detect if an object as actually been grabbed. parameters should be bytes because they will have to be transmitted over serial from the pi. Ranges on these values TBD as convenient for the arm software, but must be recorded in the system constants file. &ndash;ABD</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">azimuth</td><td>arm azimuth value </td></tr>
    <tr><td class="paramname">range</td><td>distance to the target </td></tr>
    <tr><td class="paramname">orientation</td><td>rotation of the target</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on successful pick, false otherwise. </dd></dl>

</div>
</div>
<a id="ad664efb71d5032009deade168a23dfc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad664efb71d5032009deade168a23dfc0">&#9670;&nbsp;</a></span>lineDetector_ISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lineDetector_ISR </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function to respond to a line detector being triggered. </p>
<p>The line detectors are mounted forward and inboard of the wheels. This function needs to reorient the robot to clear the sensor, but also to prevent the line from being hit again.</p>
<p>The simplest way to do this is to rotate the opposite wheel forward until the sensor clears. Because the sensor is forward of the wheel it will rotate away from the line as the opposite wheel moves forward. This should work as long as the curvature of the line is not too great.</p>
<p>This may need to be two routines, one for each sensor &ndash;ABD </p>

</div>
</div>
<a id="aa79e39c6ba7fdc4bd4c2f04668f0b1db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa79e39c6ba7fdc4bd4c2f04668f0b1db">&#9670;&nbsp;</a></span>motorEncoder_ISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void motorEncoder_ISR </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Motor encoder ISR. </p>

</div>
</div>
<a id="a329dc12ddbc9d24c02724b380a041b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a329dc12ddbc9d24c02724b380a041b04">&#9670;&nbsp;</a></span>moveLineFollow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void moveLineFollow </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Routine to follow the guide-line for some fixed interval. </p>
<p>This function assumes that we are already over the line </p>

</div>
</div>
<a id="af385a70a6e85c3a48cc34be30ce82cdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af385a70a6e85c3a48cc34be30ce82cdd">&#9670;&nbsp;</a></span>moveRotate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void moveRotate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ticks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotate the robot around central axis rotate by running both motors at the same speed in opposite directions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ticks</td><td>sign indicates direction of rotation: positive is rotation to the right. magnitude indicates the number of encoder ticks on each motor. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a49d3945f861fc2372c5acf7dcbe38deb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49d3945f861fc2372c5acf7dcbe38deb">&#9670;&nbsp;</a></span>moveStraight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void moveStraight </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ticks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move the robot forward or reverse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ticks</td><td>number of encoder ticks to move. Sign indicates direction: positive is forward. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e189084091b3c3bbee94b015c1a3257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e189084091b3c3bbee94b015c1a3257">&#9670;&nbsp;</a></span>obstacleDetector_ISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void obstacleDetector_ISR </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function to respond to a detected obstacle while under locamotion. </p>
<p>There may be two cases to handle: whether we are line following, or aproaching. If we are line following we need to ensure that we don't lose the line while avoiding the obstacle.</p>
<p>This may need to be multiple routines, one for each sensor &ndash;ABD </p>

</div>
</div>
<a id="a794c6d938a2f3689c46955eddb7bc93f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a794c6d938a2f3689c46955eddb7bc93f">&#9670;&nbsp;</a></span>serialCommunication_ISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void serialCommunication_ISR </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function to handle incomming communication from the pi. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
