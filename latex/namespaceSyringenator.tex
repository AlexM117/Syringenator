\hypertarget{namespaceSyringenator}{}\subsection{Syringenator Namespace Reference}
\label{namespaceSyringenator}\index{Syringenator@{Syringenator}}


The top-\/level Pi program.  


\subsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classSyringenator_1_1Target}{Target}}
\end{DoxyCompactItemize}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespaceSyringenator_ae7978d5b84170226249d8de2e204e762}{arduino\+Send}} (bytes)
\begin{DoxyCompactList}\small\item\em Send serial data to the arduino. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceSyringenator_a1c5a8cf020e400c8c0337977a5b6d921}{arduino\+Receive}} ()
\begin{DoxyCompactList}\small\item\em Wait some fixed time for the arduino to send one or more bytes. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceSyringenator_aff01237d3ff3e33f0ffc32927d813df0}{scan}} ()
\begin{DoxyCompactList}\small\item\em A routine to take a picture and report back the closest target The Computer vision routine must be able to handle multiple targets in the image. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceSyringenator_a6aecf5518c352d012eb1422d9970146d}{move\+Closer}} (t)
\begin{DoxyCompactList}\small\item\em Move the robot closer to the given target. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceSyringenator_a9409dbfa8ede969288bb659ef23befb6}{pick\+Up}} (t)
\begin{DoxyCompactList}\small\item\em Attempt to pickup and dispose the target. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceSyringenator_afe04905c8a4a9d077457422866633203}{return\+To\+Line}} ()
\begin{DoxyCompactList}\small\item\em signl the arduino to return to the line. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceSyringenator_a824ef6e71bc0975483435ffbdd58cb3e}{line\+Follow}} ()
\begin{DoxyCompactList}\small\item\em Follow the line. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceSyringenator_acb08d40f080a03cb4e7a43ee3ab4854b}{can\+Be\+Picked}} (t)
\begin{DoxyCompactList}\small\item\em A routine to determine if the target is in position to be picked up. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{namespaceSyringenator_a161fa877b77c9ebb120c1ed20739260b}{on\+The\+Line}} = True
\begin{DoxyCompactList}\small\item\em boolean indicating whether we are on the line \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceSyringenator_a66c7999289f77a4adce05169661f9660}{target}} = \mbox{\hyperlink{namespaceSyringenator_aff01237d3ff3e33f0ffc32927d813df0}{scan}}()
\end{DoxyCompactItemize}


\subsubsection{Function Documentation}
\mbox{\Hypertarget{namespaceSyringenator_a1c5a8cf020e400c8c0337977a5b6d921}\label{namespaceSyringenator_a1c5a8cf020e400c8c0337977a5b6d921}} 
\index{Syringenator@{Syringenator}!arduinoReceive@{arduinoReceive}}
\index{arduinoReceive@{arduinoReceive}!Syringenator@{Syringenator}}
\paragraph{\texorpdfstring{arduinoReceive()}{arduinoReceive()}}
{\footnotesize\ttfamily def Syringenator.\+arduino\+Receive (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyReturn}{Returns}
a list of bytes 
\end{DoxyReturn}
\mbox{\Hypertarget{namespaceSyringenator_ae7978d5b84170226249d8de2e204e762}\label{namespaceSyringenator_ae7978d5b84170226249d8de2e204e762}} 
\index{Syringenator@{Syringenator}!arduinoSend@{arduinoSend}}
\index{arduinoSend@{arduinoSend}!Syringenator@{Syringenator}}
\paragraph{\texorpdfstring{arduinoSend()}{arduinoSend()}}
{\footnotesize\ttfamily def Syringenator.\+arduino\+Send (\begin{DoxyParamCaption}\item[{}]{bytes }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em bytes} & one or more bytes of data to send to the arduino \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{namespaceSyringenator_acb08d40f080a03cb4e7a43ee3ab4854b}\label{namespaceSyringenator_acb08d40f080a03cb4e7a43ee3ab4854b}} 
\index{Syringenator@{Syringenator}!canBePicked@{canBePicked}}
\index{canBePicked@{canBePicked}!Syringenator@{Syringenator}}
\paragraph{\texorpdfstring{canBePicked()}{canBePicked()}}
{\footnotesize\ttfamily def Syringenator.\+can\+Be\+Picked (\begin{DoxyParamCaption}\item[{}]{t }\end{DoxyParamCaption})}

Calculates whether the center of the target bounding box is in the pickup area.

\begin{DoxyReturn}{Returns}
a boolean 
\end{DoxyReturn}
\mbox{\Hypertarget{namespaceSyringenator_a824ef6e71bc0975483435ffbdd58cb3e}\label{namespaceSyringenator_a824ef6e71bc0975483435ffbdd58cb3e}} 
\index{Syringenator@{Syringenator}!lineFollow@{lineFollow}}
\index{lineFollow@{lineFollow}!Syringenator@{Syringenator}}
\paragraph{\texorpdfstring{lineFollow()}{lineFollow()}}
{\footnotesize\ttfamily def Syringenator.\+line\+Follow (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

this routine simply signals the arduino to execute its \mbox{\hyperlink{namespaceSyringenator_a824ef6e71bc0975483435ffbdd58cb3e}{line\+Follow()}} routine

\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\mbox{\Hypertarget{namespaceSyringenator_a6aecf5518c352d012eb1422d9970146d}\label{namespaceSyringenator_a6aecf5518c352d012eb1422d9970146d}} 
\index{Syringenator@{Syringenator}!moveCloser@{moveCloser}}
\index{moveCloser@{moveCloser}!Syringenator@{Syringenator}}
\paragraph{\texorpdfstring{moveCloser()}{moveCloser()}}
{\footnotesize\ttfamily def Syringenator.\+move\+Closer (\begin{DoxyParamCaption}\item[{}]{t }\end{DoxyParamCaption})}

The \mbox{\hyperlink{namespaceSyringenator_a6aecf5518c352d012eb1422d9970146d}{move\+Closer()}} routine attempts to aproach the target by relatively small increments. Because the move routines may be interrupted by the obstacle avoidance I\+S\+Rs and the risk of jambing the wheels etc. we cannot expect to be able to approch successfully on the first try. Hence \mbox{\hyperlink{namespaceSyringenator_a6aecf5518c352d012eb1422d9970146d}{move\+Closer()}} should only move a relatively short distance before exiting to allow another loop through the scan cycle.

Should we spend effort trying to avoid running over decoys here?

This routine should check for A\+R\+D\+U\+I\+N\+O\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+O\+B\+S\+T\+A\+C\+LE. then what?

This routine is likely where we will have the most issues. --A\+BD


\begin{DoxyParams}{Parameters}
{\em t} & a \mbox{\hyperlink{classSyringenator_1_1Target}{Target}} object containing the location of the target to be approched \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\mbox{\Hypertarget{namespaceSyringenator_a9409dbfa8ede969288bb659ef23befb6}\label{namespaceSyringenator_a9409dbfa8ede969288bb659ef23befb6}} 
\index{Syringenator@{Syringenator}!pickUp@{pickUp}}
\index{pickUp@{pickUp}!Syringenator@{Syringenator}}
\paragraph{\texorpdfstring{pickUp()}{pickUp()}}
{\footnotesize\ttfamily def Syringenator.\+pick\+Up (\begin{DoxyParamCaption}\item[{}]{t }\end{DoxyParamCaption})}

This routine must determine orientation of the target. If this is not done by some Open\+CV magic we can attempt it here using the raw image data and the bounding box.

Divide the longer dimension of the bounding box by some constant divisor. Scan along each of those raster lines twice. On the first pass calculate an average brightness (R\+GB values can be summed). The second pass will pick out points of greatest brightness. Find the centers of clustered bright pixeles. We now have a set of points in cartesian space. Have Jake find the slope of the line of best fit.

The center can be estimated as the center of the bounding box, or the center of the points, the mean of both, etc.

Once the values for x, y, and m have been determined they will have to pass through a calibration transform to determine the arm a, r, o values. --A\+BD


\begin{DoxyParams}{Parameters}
{\em t} & a \mbox{\hyperlink{classSyringenator_1_1Target}{Target}} object containing the raw bitmap data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\mbox{\Hypertarget{namespaceSyringenator_afe04905c8a4a9d077457422866633203}\label{namespaceSyringenator_afe04905c8a4a9d077457422866633203}} 
\index{Syringenator@{Syringenator}!returnToLine@{returnToLine}}
\index{returnToLine@{returnToLine}!Syringenator@{Syringenator}}
\paragraph{\texorpdfstring{returnToLine()}{returnToLine()}}
{\footnotesize\ttfamily def Syringenator.\+return\+To\+Line (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000002}{Todo}}]T\+O\+DO\+: do we need to check that we actually returned? how do we recover if dead reckoning fails? --A\+BD \end{DoxyRefDesc}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\mbox{\Hypertarget{namespaceSyringenator_aff01237d3ff3e33f0ffc32927d813df0}\label{namespaceSyringenator_aff01237d3ff3e33f0ffc32927d813df0}} 
\index{Syringenator@{Syringenator}!scan@{scan}}
\index{scan@{scan}!Syringenator@{Syringenator}}
\paragraph{\texorpdfstring{scan()}{scan()}}
{\footnotesize\ttfamily def Syringenator.\+scan (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

It would be best if all targets are reported. Then this routine will determine the closest one to pursue. --A\+BD

\begin{DoxyReturn}{Returns}
a target object 
\end{DoxyReturn}


\subsubsection{Variable Documentation}
\mbox{\Hypertarget{namespaceSyringenator_a161fa877b77c9ebb120c1ed20739260b}\label{namespaceSyringenator_a161fa877b77c9ebb120c1ed20739260b}} 
\index{Syringenator@{Syringenator}!onTheLine@{onTheLine}}
\index{onTheLine@{onTheLine}!Syringenator@{Syringenator}}
\paragraph{\texorpdfstring{onTheLine}{onTheLine}}
{\footnotesize\ttfamily bool Syringenator.\+on\+The\+Line = True}

\mbox{\Hypertarget{namespaceSyringenator_a66c7999289f77a4adce05169661f9660}\label{namespaceSyringenator_a66c7999289f77a4adce05169661f9660}} 
\index{Syringenator@{Syringenator}!target@{target}}
\index{target@{target}!Syringenator@{Syringenator}}
\paragraph{\texorpdfstring{target}{target}}
{\footnotesize\ttfamily def Syringenator.\+target = \mbox{\hyperlink{namespaceSyringenator_aff01237d3ff3e33f0ffc32927d813df0}{scan}}()}

